<%= render @entry %>

<% if @entry.user == Current.user %>
  <div class="flex gap-2 items-center justify-between mb-8">
    <div class="flex gap-2">
      <%= link_to "Edit this entry", edit_entry_path(@entry), class: button_classes(type: :primary) %>
      <%= link_to "Back to directory", entries_path, class: button_classes(type: :secondary_ghost) %>
    </div>
    <%= button_to "Destroy this entry", @entry, method: :delete, class: button_classes(type: :danger) %>
  </div>
<% end %>

<dl class="w-full max-w-3xl mx-auto text-left space-y-2">
  <div class="">
    <dt class="font-bold">
      <%= Entry.human_attribute_name(:name) %>
    </dt>
    <dd>
      <%= @entry.name %>
    </dd>
  </div>
  <div class="">
    <dt class="font-bold">
      <%= Entry.human_attribute_name(:user) %>
    </dt>
    <dd>
      <%= entry_submitted_by @entry.user %>
    </dd>
  </div>
  <div class="">
    <dt class="font-bold">
      <%= Entry.human_attribute_name(:url) %>
    </dt>
    <dd>
      <%= link_to @entry.url, class: "group text-blue-500 decoration-blue-500" do %>
        <span class="group-hover:underline"><%= @entry.url %></span>
        <i>↗</i>
      <% end %>
    </dd>
  </div>
  <div class="">
    <dt class="font-bold">
      <%= Entry.human_attribute_name(:uses) %>
    </dt>
    <dd>
      <%= @entry.uses.compact_blank.to_sentence %>
    </dd>
  </div>
  <div class="">
    <dt class="font-bold">
      <%= Entry.human_attribute_name(:repository_url) %>
    </dt>
    <dd>
      <% if @entry.repository_url.present? %>
        <%= link_to @entry.repository_url, class: "group text-blue-500 decoration-blue-500" do %>
          <span class="group-hover:underline"><%= @entry.repository_url %></span>
          <i>↗</i>
        <% end %>
      <% else %>
        —
      <% end %>
    </dd>
  </div>
  <div class="">
    <dt class="font-bold">
      <%= Entry.human_attribute_name(:host) %>
    </dt>
    <dd>
      <%= @entry.host.presence || "—" %>
    </dd>
  </div>
  <div class="">
    <dt class="font-bold">
      <%= Entry.human_attribute_name(:operating_system) %>
    </dt>
    <dd>
      <%= @entry.operating_system.presence || "—" %>
    </dd>
  </div>
</dl>
